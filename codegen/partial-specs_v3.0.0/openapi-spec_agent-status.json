  {
    "openapi":"3.0.0",
    "info":{
      "description":"",
      "version":"1.0",
      "title":"Engage Digital API",
      "termsOfService":"https://developer.ringcentral.com"
    },
    "tags":[
      {
        "name":"Agent Status"
      }
    ],
    "paths":{
      "/status":{
        "get":{
          "tags":[
            "Agent Status"
          ],
          "summary":"Get all connected agents status",
          "operationId":"getAllAgentStatus",
          "description":"This method get all currently connected agents & their status.\n\nAuthorization​: only users that have the right to monitor the task view.",
          "responses":{
            "200":{
              "description":"Success",
              "content":{
                "application/json":{
                  "schema":{
                    "type":"array",
                    "items":{
                      "$ref":"#/components/schemas/AgentStatus"
                    }
                  }
                }
              }
            }
          }
        }
      },
      "/status/{agentId}":{
        "get":{
          "tags":[
            "Agent Status"
          ],
          "summary":"Get a connected agent status",
          "operationId":"getAgentStatus",
          "description":"This method get the status of a connected agent. Returns a 404 if the user does not exist (not_found) or if he’s not connected (disconnected).\n\nAuthorization​: only users that have the right to monitor the task view.",
          "parameters":[
            {
              "name":"agentId",
              "in":"path",
              "required":true,
              "schema":{
                "type":"string"
              }
            }
          ],
          "responses":{
            "200":{
              "description":"Success",
              "content":{
                "application/json":{
                  "schema":{
                    "$ref":"#/components/schemas/AgentStatus"
                  }
                }
              }
            }
          }
        },
        "put":{
          "tags":[
            "Agent Status"
          ],
          "summary":"Changing an agent's status",
          "operationId":"changeAgentStatus",
          "description":"This method updates an agent's availability. Can be used to set either channels statuses OR custom  status. If both parameters are provided, ignores custom status.The status parameter​ **MUST** b​e either “away” or “available”.\n\nAuthorization​: only users that have the right to monitor the task view.",
          "parameters":[
            {
              "name":"agentId",
              "in":"path",
              "required":true,
              "schema":{
                "type":"string"
              }
            },
            {
              "name":"status",
              "in":"query",
              "required":false,
              "description":"A hash of channel_id => availability (must contain all channels).",
              "schema":{
                "type":"string"
              }
            },
            {
              "name":"custom_status_id",
              "in":"query",
              "required":false,
              "description":"id of presence status (optional)",
              "schema":{
                "type":"string"
              }
            }
          ],
          "responses":{
            "200":{
              "description":"Success",
              "content":{
                "application/json":{
                  "schema":{
                    "$ref":"#/components/schemas/AgentStatus"
                  }
                }
              }
            }
          }
        }
      }
    },
    "servers":[
      {
        "url":"https://DOMAIN.api.engagement.dimelo.com/1.0"
      }
    ],
    "components":{
      "securitySchemes":{
        "bearerAuth":{
          "type":"http",
          "scheme":"bearer"
        }
      },
      "schemas":{
        "GetAllAgentStatusResponse":{
          "properties":{
            "count":{
              "type":"integer",
              "format":"int32"
            },
            "limit":{
              "type":"integer",
              "format":"int32"
            },
            "offset":{
              "type":"integer",
              "format":"int32"
            },
            "records":{
              "type":"array",
              "items":{
                "$ref":"#/components/schemas/AgentStatus"
              }
            }
          }
        },
        "AgentStatus":{
          "properties":{
            "agent_id":{
              "type":"string"
            },
            "channels":{
              "type":"array",
              "items":{
                "$ref":"#/components/schemas/AgentStatusChannel"
              }
            },
            "custom_status":{
              "$ref":"#/components/schemas/AgentCustomStatus"
            }
          }
        },
        "AgentStatusChannel":{
          "properties":{
            "id":{
              "type":"string"
            },
            "name":{
              "type":"string"
            },
            "status":{
              "type":"string"
            },
            "busyness":{
              "type":"string",
              "enum":[
                "unoccupied","ok","busy","full"
              ]
            }
          }
        },
        "AgentCustomStatus":{
          "description":"The \"custom_status\" attribute represent the custom \"away\" status selected, it can either be:\n* 1. null — ​The agent is available or in the generic \"Away\" status\n2. { \"id\":\"5582b1f4776562af9b000008\" } — ​The id of the custom status",
          "properties":{
            "id":{
              "type":"string"
            }
          }
        }
      }
    }
  }